/*HEADER******************************************************************************************
*
* Comments:
*
*
**END********************************************************************************************/
///////////////////////////////////////////////////////////////////////////////////////////////////
//                                      Includes Section                        
///////////////////////////////////////////////////////////////////////////////////////////////////
#include "derivative.h"
#include "NVIC.h"
#include <stdint.h>
///////////////////////////////////////////////////////////////////////////////////////////////////
//                                   Defines & Macros Section                   
///////////////////////////////////////////////////////////////////////////////////////////////////

#define NVIC_MAX_IRQ	(INT_PORTD)

///////////////////////////////////////////////////////////////////////////////////////////////////
//                                       Typedef Section                        
///////////////////////////////////////////////////////////////////////////////////////////////////



///////////////////////////////////////////////////////////////////////////////////////////////////
//                                  Function Prototypes Section                 
///////////////////////////////////////////////////////////////////////////////////////////////////



///////////////////////////////////////////////////////////////////////////////////////////////////
//                                   Global Constants Section                   
///////////////////////////////////////////////////////////////////////////////////////////////////


///////////////////////////////////////////////////////////////////////////////////////////////////
//                                   Static Constants Section                   
///////////////////////////////////////////////////////////////////////////////////////////////////


///////////////////////////////////////////////////////////////////////////////////////////////////
//                                   Global Variables Section                   
///////////////////////////////////////////////////////////////////////////////////////////////////



///////////////////////////////////////////////////////////////////////////////////////////////////
//                                   Static Variables Section                   
///////////////////////////////////////////////////////////////////////////////////////////////////




///////////////////////////////////////////////////////////////////////////////////////////////////
//                                      Functions Section                       
///////////////////////////////////////////////////////////////////////////////////////////////////
/*!
      \fn  NVIC_vfnEnableIRQ
      \param dwIRQtoEnable: IRQ to enable. Extracted from the enum on NVIC.h 
      \brief  Enables the NVIC bit for IRQn
      \return
*/
void NVIC_vfnEnableIRQ(uint32_t dwIRQtoEnable)
{
	uint32_t dwNVICBit;

	if(dwIRQtoEnable < NVIC_MAX_IRQ)
	{
		dwNVICBit      = (dwIRQtoEnable)%32;

		NVIC_ISER |= (1 << dwNVICBit);

	}
}
/*!
      \fn  NVIC_vfnDisableIRQ
      \param dwIRQtoDisable: IRQ number to disable. Extracted from the enum on NVIC.h
      \brief  Disables the NVIC bit for IRQn
      \return
*/
void NVIC_vfnDisableIRQ(uint32_t dwIRQtoDisable)
{
	uint32_t dwNVICBit;

	if(dwIRQtoDisable < NVIC_MAX_IRQ)
	{
		
		dwNVICBit      = (dwIRQtoDisable)%32;

		NVIC_ICER = (1 << dwNVICBit);

	}

}
